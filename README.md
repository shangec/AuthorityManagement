1) LYZJ.UserLimitMVC.UI.Portal项目，UI层，负责项目页面的展示，使用EasyUI和MVC4.0来实现的页面。

2) LYZJ.UserLimitMVC.Model类库，用来存放数据表实体的模型，这里放置的时Entity FrameWork模型。也就是使用EF框架来操作数据库。

3) LYZJ.UserLimitMVC.Common类库，专门用来存放一些公用的信息，类。比如Md5加密算法类，文件上传，格式转换等等。

4) LYZJ.UserLimitMVC.DAL类库，数据库访问层的实现，因为我们对数据库的操作也就是增删改查操作，所以我们封装了一个基接口，用于实现对数据的操作，然后其他的数据库访问层的对象只需要继承自基接口实现对数据库的操作即可，在这里我们也添加了一个工厂(仓储)，使用简单工厂管理实例创建，这样的话我们就把创建实例的这些模式封装到简单工厂里面去了。实现了高内聚，低耦合。

5) LYZJ.UserLimitMVC.IDAL类库，数据库访问接口层，用来存放数据库访问层的接口信息，因为我们对数据库的操作也就那些方法，所以我们封装了一基接口，然后让其他的对象接口继承自基接口。

6) LYZJ.UserLimitMVC.BLL类库，这是我们对业务逻辑层的实现，和数据库访问层同样的思路，不过我们实现的是对数据库访问层的抽象。

7) LYZJ.UserLimitMVC.IBLL类库，业务逻辑接口层，用来存放的是业务逻辑的接口，实现思路和数据库访问层的思想一致。


EFContextFactory，DbSession总括

 (1)首先我们在LYZJ.UserLimitMVC.DAL类库下面新建DbSession类，那么这个DbSession是干什么的呢？首先我们猜一猜，DB是代表数据库的意思，而Session代表一次会话。

 (2) 我们在ASP.NET中请求页面的时候也用Session，Session就代表一次会话的开始，到我们所有的请求结束之后，浏览器关闭之后会话结束，也就是说在他一次请求当中的一个过程称为一个会话，

 (3)那么我们新建的这个DbSession是什么意思呢？意思就是我们跟数据库进行一次会话的过程，当我们一个请求过来的时候，我们要跟数据库进行很多次的交互，那我们把很多次交互的这个整体的过程我们称之为一个会话。当我们对数据库进行操作的时候会话开启，当数据库操作结束，请求也结束，那么我们对这个数据库访问的会话也就结束了。

 (4)那么我们如果想操作数据库的话，就要通过这个会话来进行操作，在DbSession中就可以拿到我们所有的仓储，然后我们就可以对所有的表进行增删查改操作。当我们对这个表所有的增删查改完成之后，还可以通过DbSession一次性的提交会数据库，因为是一次会话，所以将这次会话中的所有的变化都提交回数据库，然后就实现了批量提交。


 DbSession一次跟数据库的会话

 (1)首先我们要理解DbSession这个类的作用，代表了应用程序跟数据库之间的一次会话，从另外一个角度来说，也是数据库访问层的统一入口。(整个数据库访问层的抽象)。